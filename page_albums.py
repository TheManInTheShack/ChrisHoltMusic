# ==================================================================================================
# albums page
# ==================================================================================================

# ==================================================================================================
# Imports
# ==================================================================================================
import dash_core_components as dcc
import dash_html_components as html
from dash.dependencies import Input, Output

import pandas as pd
import plotly.express as px

from app import app

from lib import *

# ==================================================================================================
# Init
# ==================================================================================================
print("...loading albums page...")

def layout_albums(init_dict):
    # ==============================================================================================
    # Grab the information from the init
    # ==============================================================================================
    style_default      = init_dict['style_default']    
    data               = init_dict['data']                         
    pages              = init_dict['pages']
    footnote           = init_dict['footnote']
    title              = init_dict['title']

    # ==============================================================================================
    # Sort out the data
    # ==============================================================================================
    data_albums = get_data_albums(data)

    # ==============================================================================================
    # Page Contents Configuration
    # ==============================================================================================
    # ------------------------------------------------------------------------------
    # Chart information
    # ------------------------------------------------------------------------------
    charts={}

    # ------------------------------------------------------------------------------
    # Control information
    # ------------------------------------------------------------------------------
    controls={}

    # ------------------------------------------------------------------------------
    # General layout information
    # ------------------------------------------------------------------------------
    layout={}
    layout['chart_shape']     = "1x2"
    layout['style_default']   = style_default
    layout['controls_orient'] = "top"

    # ==============================================================================================
    # Component layout
    # ==============================================================================================
    # ------------------------------------------------------------------------------
    # Compile components
    # ------------------------------------------------------------------------------
    components = []
    components.append(get_navbar(pages, title))
    components.extend(display_data_table(data_albums, idx="albums_data_table", title="Data by Album"))
    #components.append(charts_with_controls(charts, controls, layout))
    components.append(get_footnote(footnote))

    # ------------------------------------------------------------------------------
    # Top Level
    # ------------------------------------------------------------------------------
    layout_albums = html.Div(components, style=style_default)
    return layout_albums

    # ==============================================================================================
    # Callbacks
    # ==============================================================================================

